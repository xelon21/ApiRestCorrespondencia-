"use strict";(self.webpackChunkPaginaCorrespondencia=self.webpackChunkPaginaCorrespondencia||[]).push([[574],{4574:(Jo,E,s)=>{s.r(E),s.d(E,{MenuModule:()=>No});var f=s(9808),p=s(1083),_=s(5861),i=s(3075),L=s(5226),g=s.n(L),t=s(5e3),B=s(9646),k=s(8505),H=s(4004),j=s(262),$=s(2340),z=s(520);let w=(()=>{class e{constructor(o){this.http=o,this.baseUrl=$.N.baseUrl}getCorrespondencia(){return this.http.get(`${this.baseUrl}/mostrar`)}getTipoEnvio(){return this.http.get(`${this.baseUrl}/mostrar/tipoenvio`)}getTipoDocumento(){return this.http.get(`${this.baseUrl}/mostrar/tipodocumento`)}ingresaCorrespondencia(o,n,a,c,l){return this.http.post(`${this.baseUrl}/ingresar`,{idTipoDocumento:o,idTipoEnvio:n,usuario:a,destinatario:c,referencia:l}).pipe((0,k.b)(v=>{console.log(v)}),(0,H.U)(v=>v),(0,j.K)(v=>(0,B.of)(!1)))}modificarPorCorrelativo(o){return this.http.put(`${this.baseUrl}/modificar/${o.correlativo}`,o)}buscaCorrelativo(o){return this.http.get(`${this.baseUrl}/filtro/${o}`)}filtroCorrelativo(o){return this.http.get(`${this.baseUrl}/${o}`)}filtroFechas(o,n){return this.http.get(`${this.baseUrl}/filtrar/${o}/${n}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=s(4055),u=s(7093),U=s(3322),x=s(4594),T=s(7423),C=s(3874),O=s(9224),M=s(3954),Z=s(3489),F=s(7531),S=s(4107),J=s(508),y=s(4449);function G(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.idTipoDocumento),t.xp6(1),t.hij(" ",o.nombreDocumento," ")}}function X(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.idTipoEnvio),t.xp6(1),t.hij(" ",o.nombreEnvio," ")}}const W=function(){return{"font-size.px":10,color:"blue"}},V=function(){return{"font-size.px":20,color:"lightblue"}},K=function(){return{"font-size.px":30,color:"orange"}};let tt=(()=>{class e{constructor(o,n,a,c,l){this.fb=o,this.correosService=n,this.activatedRoute=a,this.router=c,this.loginService=l,this.tipoEnvio=[],this.tipoDocumento=[],this.correos=[],this.miFormulario=this.fb.group({idTipoDocumento:1,idTipoEnvio:1,destinatario:["",i.kI.required],referencia:["",i.kI.required]})}ngOnInit(){this.traeTipos(),this.activatedRoute.params.subscribe(({correlativo:o})=>console.log(o))}traeTipos(){this.correosService.getTipoEnvio().subscribe(o=>this.tipoEnvio=o),this.correosService.getTipoDocumento().subscribe(o=>this.tipoDocumento=o)}ingresar(){var o=this;return(0,_.Z)(function*(){try{const{idTipoDocumento:n,idTipoEnvio:a,destinatario:c,referencia:l}=o.miFormulario.value,b=o.loginService.usuario.nombre;console.log(b),yield o.correosService.ingresaCorrespondencia(n,a,b,c,l).subscribe(N=>{g().fire({position:"top-end",icon:"success",title:"Correspondencia Guardada Con Exito",showConfirmButton:!1,timer:1500})}),o.router.navigate(["/correspondencia/mostrar"])}catch(n){console.log(n),g().fire({icon:"error",title:"Error",text:"Las credenciales no coinciden"})}})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(w),t.Y36(p.gz),t.Y36(p.F0),t.Y36(q._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-agregar"]],decls:40,vars:18,consts:[["fxLayout","columns wrap","fxLayoutAlign","center"],[2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"ancho2"],[1,"spacer"],["mat-raised-button","","color","primary","routerLink","/correspondencia/mostrar"],["fxLayoutGap","",2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","type","text","autocomplete","off","formControlName","destinatario","placeholder","Destinatario",1,"input100"],["formControlName","idTipoDocumento","type","number"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","type","text","formControlName","referencia","placeholder","Referencia",1,"form-control"],["formControlName","idTipoEnvio","type","number"],["mat-raised-button","","color","primary","type","submit",1,"ancho3",3,"disabled"],["mat-list-icon",""],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-toolbar"),t.TgZ(4,"span"),t._uU(5,"Ingresar Correspondencia"),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"button",4),t.TgZ(8,"mat-icon"),t._uU(9,"reply"),t.qZA(),t._uU(10," Volver"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"mat-card",5),t.TgZ(13,"form",6),t.NdJ("ngSubmit",function(){return n.ingresar()}),t.TgZ(14,"mat-grid-list",7),t.TgZ(15,"mat-grid-tile",8),t.TgZ(16,"mat-form-field",9),t._UZ(17,"input",10),t.qZA(),t.qZA(),t.TgZ(18,"mat-grid-tile",8),t.TgZ(19,"mat-form-field",9),t.TgZ(20,"mat-label"),t._uU(21,"Tipo de Documento"),t.qZA(),t.TgZ(22,"mat-select",11),t.YNc(23,G,2,2,"mat-option",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"mat-grid-tile",8),t.TgZ(25,"mat-form-field",9),t.TgZ(26,"mat-label"),t._uU(27,"Referencia"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.qZA(),t.TgZ(29,"mat-grid-tile",8),t.TgZ(30,"mat-form-field",9),t.TgZ(31,"mat-label"),t._uU(32,"Tipo de Envio"),t.qZA(),t.TgZ(33,"mat-select",14),t.YNc(34,X,2,2,"mat-option",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",0),t.TgZ(36,"button",15),t.TgZ(37,"mat-icon",16),t._uU(38,"send"),t.qZA(),t._uU(39," Ingresar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(15,W))("ngStyle.sm",t.DdM(16,V))("ngStyle.md",t.DdM(17,K)),t.xp6(12),t.Q6J("formGroup",n.miFormulario),t.xp6(2),t.Q6J("colspan",1)("rowspan",1),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(5),t.Q6J("ngForOf",n.tipoDocumento),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(5),t.Q6J("colspan",1)("rowspan",1),t.xp6(5),t.Q6J("ngForOf",n.tipoEnvio),t.xp6(2),t.Q6J("disabled",n.miFormulario.invalid))},directives:[u.xw,u.Wh,U.Zl,x.Ye,T.lW,p.rH,C.Hw,O.a8,u.SQ,i._Y,i.JL,i.sg,M.Il,M.DX,Z.KE,F.Nt,i.Fj,i.JJ,i.u,Z.hX,S.gD,f.sg,J.ey,y.Nh],styles:[".ancho[_ngcontent-%COMP%]{width:80%}.ancho2[_ngcontent-%COMP%]{width:260%}.ancho3[_ngcontent-%COMP%]{width:50%}.salto[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var Y=s(2638);function ot(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){return t.CHM(o),t.oxw(),t.MAs(2).toggle()}),t.TgZ(1,"mat-icon",6),t._uU(2,"admin_panel_settings"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Administracion"),t.qZA(),t.qZA()}}let et=(()=>{class e{constructor(o,n){this.router=o,this.usuarioService=n,this.esAdmin=!1,this.roles=[],this.nombreRol="",this.numeroRol=0}get usuario(){return this.usuarioService.usuario}ngOnInit(){this.traeRolUsuario(),1===this.usuarioService.usuario.idRol&&(this.esAdmin=!0)}logout(){this.router.navigateByUrl("/login"),this.usuarioService.logout()}traeRolUsuario(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.F0),t.Y36(q._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inicio"]],decls:39,vars:2,consts:[["fullscreen",""],["mode","push"],["sidenav",""],["color","primary"],[1,"spacer"],["mat-icon-button","",3,"click"],["mat-list-icon",""],["routerLink","./mostrar","mat-list-item","",3,"click"],["routerLink","./agregar","mat-list-item","",3,"click"],["routerLink","./filtrar/:correlativo","mat-list-item","",3,"click"],["routerLink","./administrador","mat-list-item","",3,"click",4,"ngIf"],["mat-button","",3,"click"],[1,"container"],["routerLink","./administrador","mat-list-item","",3,"click"]],template:function(o,n){if(1&o){const a=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.TgZ(1,"mat-sidenav",1,2),t.TgZ(3,"mat-toolbar",3),t.TgZ(4,"span"),t._uU(5,"Correspondencia"),t.qZA(),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(8,"mat-icon",6),t._uU(9,"exit_to_app"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-nav-list"),t.TgZ(11,"a",7),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(12,"mat-icon",6),t._uU(13,"list"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Mostrar Correspondencia"),t.qZA(),t.qZA(),t.TgZ(16,"a",8),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(17,"mat-icon",6),t._uU(18,"add"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Agregar Correspondencia"),t.qZA(),t.qZA(),t.TgZ(21,"a",9),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(22,"mat-icon",6),t._uU(23,"search"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Filtrar Correspondencia"),t.qZA(),t.qZA(),t.YNc(26,ot,5,0,"a",10),t.qZA(),t.qZA(),t.TgZ(27,"mat-toolbar",3),t.TgZ(28,"button",5),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(29,"mat-icon"),t._uU(30,"menu"),t.qZA(),t._uU(31," Menu "),t.qZA(),t.TgZ(32,"span"),t._uU(33),t.qZA(),t._UZ(34,"div",4),t.TgZ(35,"button",11),t.NdJ("click",function(){return n.logout()}),t._uU(36," Logout "),t.qZA(),t.qZA(),t.TgZ(37,"div",12),t._UZ(38,"router-outlet",0),t.qZA(),t.qZA()}2&o&&(t.xp6(26),t.Q6J("ngIf",n.esAdmin),t.xp6(7),t.hij("Usuario: ",n.usuario.nombre,""))},directives:[Y.TM,Y.JX,x.Ye,T.lW,C.Hw,y.Nh,y.Hk,p.yS,y.Tg,f.O5,p.lC],styles:[".container[_ngcontent-%COMP%]{padding:16px;margin:10px}span[_ngcontent-%COMP%]{text-align:center;display:inline-block;width:100%}"]}),e})();var nt=s(3900),Q=s(7446);function rt(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.idTipoEnvio),t.xp6(1),t.hij(" ",o.nombreEnvio," ")}}function it(e,r){1&e&&(t.TgZ(0,"mat-label"),t._uU(1,"Correo Anulado"),t.qZA())}const at=function(){return{"font-size.px":10,color:"blue"}},ct=function(){return{"font-size.px":20,color:"lightblue"}},st=function(){return{"font-size.px":30,color:"orange"}};let lt=(()=>{class e{constructor(o,n,a,c){this.correoService=o,this.activatedRouter=n,this.router=a,this.loginService=c,this.correos={idTipoEnvio:0,usuario:"",estadoCorreo:"",destinatario:"",referencia:"",correlativo:"",us:""},this.us="",this.correlativo="",this.tipoEnvio=[],this.estado=!1}ngOnInit(){this.activatedRouter.params.pipe((0,nt.w)(({correlativo:o})=>this.correoService.buscaCorrelativo(o))).subscribe(o=>{this.correos=o,console.log(this.correos)}),this.correoService.getTipoEnvio().subscribe(o=>this.tipoEnvio=o)}modificar(){var o=this;return(0,_.Z)(function*(){if(o.estadoCorrespondencia(o.correos.estadoCorreo))return g().fire({icon:"error",title:"ERROR",text:"No se puede modificar una correspondencia anulada"}),void o.router.navigate(["/correspondencia/mostrar"]);o.estado?(o.correos.estadoCorreo="ANULADO",yield o.correoService.filtroCorrelativo(o.correos.correlativo).subscribe(n=>{o.loginService.usuario.nombre===n[0].usuario?(o.correoService.modificarPorCorrelativo(o.correos).subscribe(a=>o.correos=a),g().fire({position:"top-end",icon:"success",title:"Se ha modificado",showConfirmButton:!1,timer:1500}),o.router.navigate(["/correspondencia/mostrar"])):(g().fire({icon:"error",title:"ERROR",text:"No se puede modificar la correspondencia"}),o.router.navigate(["/correspondencia/mostrar"]))})):yield o.correoService.filtroCorrelativo(o.correos.correlativo).subscribe(n=>{o.correos.usuario===n[0].usuario?(o.correoService.modificarPorCorrelativo(o.correos).subscribe(a=>o.correos=a),g().fire({position:"top-end",icon:"success",title:"Se ha modificado",showConfirmButton:!1,timer:1500}),o.router.navigate(["/correspondencia/mostrar"])):(g().fire({icon:"error",title:"ERROR",text:"No se puede modificar la correspondencia"}),o.router.navigate(["/correspondencia/mostrar"]))})})()}estadoCorrespondencia(o){return"ANULADO"===o&&(g().fire({icon:"error",title:"ERROR",text:"No se puede modificar una correspondencia anulada"}),!0)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(w),t.Y36(p.gz),t.Y36(p.F0),t.Y36(q._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-modificar"]],decls:40,vars:19,consts:[["fxLayout","columns wrap","fxLayoutAlign","center"],[2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"ancho"],[1,"spacer"],["mat-raised-button","","color","primary","routerLink","/correspondencia/mostrar"],["fxLayoutGap","",2,"margin-top","10px"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho2"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],["type","number","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ancho2",3,"ngModel","ngModelChange"],["class","ancho"],["anulado",""],["fxLayoutAlign","center"],["mat-raised-button","","color","primary",1,"ancho3",3,"click"],["mat-list-icon",""],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-toolbar"),t.TgZ(4,"span"),t._uU(5,"Modificar Correspondencia"),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"button",4),t.TgZ(8,"mat-icon"),t._uU(9,"reply"),t.qZA(),t._uU(10," Volver"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"mat-card",5),t.TgZ(13,"mat-grid-list",6),t.TgZ(14,"mat-grid-tile",7),t.TgZ(15,"mat-form-field",8),t.TgZ(16,"mat-label"),t._uU(17,"Destinatario"),t.qZA(),t.TgZ(18,"input",9),t.NdJ("ngModelChange",function(c){return n.correos.destinatario=c}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-grid-tile",7),t.TgZ(20,"mat-form-field",8),t.TgZ(21,"mat-label"),t._uU(22,"Tipo de Envio"),t.qZA(),t.TgZ(23,"mat-select",10),t.NdJ("ngModelChange",function(c){return n.correos.idTipoEnvio=c}),t.YNc(24,rt,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"mat-grid-tile",7),t.TgZ(26,"mat-form-field",8),t.TgZ(27,"mat-label"),t._uU(28,"Referencia"),t.qZA(),t.TgZ(29,"input",9),t.NdJ("ngModelChange",function(c){return n.correos.referencia=c}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"mat-grid-tile",7),t.TgZ(31,"mat-checkbox",12),t.NdJ("ngModelChange",function(c){return n.estado=c}),t._uU(32,"ANULAR"),t.qZA(),t.YNc(33,it,2,0,"ng-template",13,14,t.W1O),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"button",16),t.NdJ("click",function(){return n.modificar()}),t.TgZ(37,"mat-icon",17),t._uU(38,"send"),t.qZA(),t._uU(39," Modificar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(16,at))("ngStyle.sm",t.DdM(17,ct))("ngStyle.md",t.DdM(18,st)),t.xp6(13),t.Q6J("colspan",1)("rowspan",1),t.xp6(4),t.Q6J("ngModel",n.correos.destinatario),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(4),t.Q6J("ngModel",n.correos.idTipoEnvio),t.xp6(1),t.Q6J("ngForOf",n.tipoEnvio),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(4),t.Q6J("ngModel",n.correos.referencia),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(1),t.Q6J("ngModel",n.estado))},directives:[u.xw,u.Wh,U.Zl,x.Ye,T.lW,p.rH,C.Hw,O.a8,u.SQ,M.Il,M.DX,Z.KE,Z.hX,F.Nt,i.Fj,i.Q7,i.JJ,i.On,S.gD,f.sg,J.ey,Q.oG,y.Nh],styles:[".marg[_ngcontent-%COMP%]{margin-right:}.ancho2[_ngcontent-%COMP%]{width:80%}.ancho3[_ngcontent-%COMP%]{width:50%}.ancho[_ngcontent-%COMP%]{width:260%}"]}),e})();var d=s(1777),m=s(4999),R=s(9772),A=s(8966);function mt(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Usuario "),t.qZA())}function pt(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.usuario," ")}}function ut(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Tipo de Envio "),t.qZA())}function dt(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.nombreEnvio," ")}}function gt(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Nombre de Documento"),t.qZA())}function ft(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.nombreDocumento," ")}}function Zt(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Destinatario "),t.qZA())}function ht(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.destinatario," ")}}function _t(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Referencia "),t.qZA())}function Tt(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.referencia," ")}}function Ct(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Fecha "),t.qZA())}function At(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.fecha,"dd/MM/yyyy")," ")}}function vt(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Correlativo "),t.qZA())}function xt(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.correlativo," ")}}function yt(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," EstadoCorreo "),t.qZA())}function bt(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.estadoCorreo," ")}}function qt(e,r){1&e&&t._UZ(0,"th",20)}const Ut=function(e){return["/correspondencia/modificar/",e]};function Mt(e,r){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"a",23),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Ut,o.correlativo))}}function wt(e,r){if(1&e&&t._UZ(0,"td",21),2&e){const o=t.oxw();t.uIk("colspan",o.columnsToDisplay.length)}}function Dt(e,r){1&e&&t._UZ(0,"tr",24)}function Nt(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr",25),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return l.expandedElement=l.expandedElement===c?null:c}),t.qZA()}if(2&e){const o=r.$implicit,n=t.oxw();t.ekj("example-expanded-row",n.expandedElement===o)}}function Ft(e,r){1&e&&t._UZ(0,"tr",26)}const St=function(){return{"font-size.px":10,color:"blue"}},Jt=function(){return{"font-size.px":20,color:"lightblue"}},kt=function(){return{"font-size.px":30,color:"orange"}},Ot=function(){return["expandedDetail"]};let I=(()=>{class e{constructor(){this.correos=[],this.dataSource=this.correos,this.columnsToDisplay=["usuario","nombreDocumento","tipoEnvio","destinatario","referencia","fecha","correlativo","estadoCorreo","acciones"]}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tabla"]],inputs:{correos:"correos"},decls:36,vars:12,consts:[["fxLayout","columns wrap","fxLayoutAlign","center"],["fxFlex","150",2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"example-container"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","usuario"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tipoEnvio"],["matColumnDef","nombreDocumento"],["matColumnDef","destinatario"],["matColumnDef","referencia"],["matColumnDef","fecha"],["matColumnDef","correlativo"],["matColumnDef","estadoCorreo"],["matColumnDef","acciones"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"text-align","right"],["matTooltip","Editar Correspondencia","mat-dialog-close","",1,"pointer",2,"color","#e15639",3,"routerLink"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.ynx(4,4),t.YNc(5,mt,2,0,"th",5),t.YNc(6,pt,2,1,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,ut,2,0,"th",5),t.YNc(9,dt,2,1,"td",6),t.BQk(),t.ynx(10,8),t.YNc(11,gt,2,0,"th",5),t.YNc(12,ft,2,1,"td",6),t.BQk(),t.ynx(13,9),t.YNc(14,Zt,2,0,"th",5),t.YNc(15,ht,2,1,"td",6),t.BQk(),t.ynx(16,10),t.YNc(17,_t,2,0,"th",5),t.YNc(18,Tt,2,1,"td",6),t.BQk(),t.ynx(19,11),t.YNc(20,Ct,2,0,"th",5),t.YNc(21,At,3,4,"td",6),t.BQk(),t.ynx(22,12),t.YNc(23,vt,2,0,"th",5),t.YNc(24,xt,2,1,"td",6),t.BQk(),t.ynx(25,13),t.YNc(26,yt,2,0,"th",5),t.YNc(27,bt,2,1,"td",6),t.BQk(),t.ynx(28,14),t.YNc(29,qt,1,0,"th",5),t.YNc(30,Mt,4,3,"td",15),t.BQk(),t.ynx(31,16),t.YNc(32,wt,1,1,"td",6),t.BQk(),t.YNc(33,Dt,1,0,"tr",17),t.YNc(34,Nt,1,2,"tr",18),t.YNc(35,Ft,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(8,St))("ngStyle.sm",t.DdM(9,Jt))("ngStyle.md",t.DdM(10,kt)),t.xp6(2),t.Q6J("dataSource",n.correos),t.xp6(30),t.Q6J("matHeaderRowDef",n.columnsToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(11,Ot)))},directives:[u.xw,u.Wh,u.yH,U.Zl,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,p.yS,R.gM,A.ZT,C.Hw,m.as,m.XQ,m.nj,m.Gk],pipes:[f.uU],styles:[".example-container[_ngcontent-%COMP%]{height:400px;overflow:auto}.ancho[_ngcontent-%COMP%]{width:145%}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,d.X$)("detailExpand",[(0,d.SB)("collapsed",(0,d.oB)({height:"0px",minHeight:"0"})),(0,d.SB)("expanded",(0,d.oB)({height:"*"})),(0,d.eR)("expanded <=> collapsed",(0,d.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})();const It=function(){return{"font-size.px":10,color:"blue"}},Et=function(){return{"font-size.px":20,color:"lightblue"}},Yt=function(){return{"font-size.px":30,color:"orange"}};let Qt=(()=>{class e{constructor(o,n){this.correosService=o,this.router=n,this.correos=[]}ngOnInit(){this.correosService.getCorrespondencia().subscribe(o=>{this.correos=o})}modificar(o){this.router.navigate(["/correspondencia/modificar",o])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(w),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-mostrar"]],decls:12,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center"],[2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"mat-elevation-z3","ancho"],[1,"spacer"],["mat-raised-button","","color","primary","routerLink","/correspondencia/agregar"],[3,"correos"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-toolbar"),t.TgZ(4,"h3"),t._uU(5,"Correspondencia"),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"button",4),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," Correspondencia"),t.qZA(),t.qZA(),t._UZ(11,"app-tabla",5),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(4,It))("ngStyle.sm",t.DdM(5,Et))("ngStyle.md",t.DdM(6,Yt)),t.xp6(10),t.Q6J("correos",n.correos))},directives:[u.xw,u.Wh,U.Zl,x.Ye,T.lW,p.rH,C.Hw,I],styles:[".bobi[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;background-color:#f5f5f5}.ancho[_ngcontent-%COMP%]{width:145%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-top:2px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}"]}),e})();var D=s(6856);function Rt(e,r){if(1&e&&t._UZ(0,"app-tabla",12),2&e){const o=t.oxw();t.Q6J("correos",o.correos)}}let Pt=(()=>{class e{constructor(o){this.correoService=o,this.range=new i.cw({start:new i.NI,end:new i.NI}),this.hayError=!1,this.correos=[]}ngOnInit(){}filtraFechas(){var o=this;return(0,_.Z)(function*(){if(o.range.controls.start.valid&&o.range.controls.end.valid&&null!=o.range.value.start&&null!=o.range.value.end){o.hayError=!0,o.inicial=o.range.value.start._i,o.final=o.range.value.end._i;let n=o.inicial.year+"-"+(o.inicial.month+1).toString()+"-"+o.inicial.date,a=o.final.year+"-"+(o.final.month+1).toString()+"-"+o.final.date;yield o.correoService.filtroFechas(n,a).subscribe(c=>{o.correos=c})}})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-filtro-fechas"]],decls:19,vars:4,consts:[[1,"mat-typography"],["mat-dialog-title",""],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Fecha Inicio"],["matEndDate","","formControlName","end","placeholder","Fecha Final"],["matSuffix","",3,"for"],["picker",""],[3,"correos",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","color","primary"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],[3,"correos"]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-dialog-content",0),t.TgZ(1,"h1",1),t._uU(2,"Filtrado Por Fechas"),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-form-field",2),t.TgZ(5,"mat-label"),t._uU(6,"Ingrese rango de Fechas"),t.qZA(),t.TgZ(7,"mat-date-range-input",3),t._UZ(8,"input",4),t._UZ(9,"input",5),t.qZA(),t._UZ(10,"mat-datepicker-toggle",6),t._UZ(11,"mat-date-range-picker",null,7),t.qZA(),t.YNc(13,Rt,1,1,"app-tabla",8),t.qZA(),t.qZA(),t.TgZ(14,"mat-dialog-actions",9),t.TgZ(15,"button",10),t._uU(16,"volver"),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){return n.filtraFechas()}),t._uU(18,"Aceptar"),t.qZA(),t.qZA()),2&o){const a=t.MAs(12);t.xp6(7),t.Q6J("formGroup",n.range)("rangePicker",a),t.xp6(3),t.Q6J("for",a),t.xp6(3),t.Q6J("ngIf",n.hayError)}},directives:[A.xY,A.uh,Z.KE,Z.hX,D.wx,i.JL,i.sg,D.zY,i.Fj,i.JJ,i.u,D.By,D.nW,Z.R9,D._g,f.O5,I,A.H8,T.lW,A.ZT],styles:[".example-form-field[_ngcontent-%COMP%]{margin-right:20px}.ancho[_ngcontent-%COMP%]{width:100%}"]}),e})();function Lt(e,r){if(1&e&&t._UZ(0,"app-tabla",8),2&e){const o=t.oxw();t.Q6J("correos",o.correos)}}const Bt=function(){return{"font-size.px":10,color:"blue"}},Ht=function(){return{"font-size.px":20,color:"lightblue"}},jt=function(){return{"font-size.px":30,color:"orange"}};let $t=(()=>{class e{constructor(o,n){this.correosService=o,this.dialog=n,this.correos=[],this.filtro="",this.hayError=!1}ngOnInit(){this.traeCorrespondencia()}openDialog(){this.dialog.open(Pt,{width:"1250px"}).afterClosed().subscribe(n=>{console.log(n)})}traeCorrespondencia(){var o=this;return(0,_.Z)(function*(){yield o.correosService.getCorrespondencia().subscribe(n=>{o.correos=n})})()}filtrarPorCorrelativo(){var o=this;return(0,_.Z)(function*(){yield o.correosService.filtroCorrelativo(o.filtro).subscribe(n=>{n?(o.hayError=!0,o.correos=n):o.hayError=!1})})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(w),t.Y36(A.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-filtrar"]],decls:16,vars:8,consts:[["fxLayout","columns wrap","fxLayoutAlign","center"],["fxFlex","150",2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"ancho"],[1,"spacer"],["mat-raised-button","","color","primary",3,"click"],["autocomplete","off"],["type","text","name","filtro","placeholder","correlativo",1,"form-control","salto",3,"ngModel","ngModelChange","input"],[3,"correos",4,"ngIf"],[3,"correos"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-toolbar"),t.TgZ(4,"span"),t._uU(5,"Filtrar Correspondencia"),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return n.openDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"event"),t.qZA(),t._uU(10,"Por rango de fechas "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"form",5),t.TgZ(13,"input",6),t.NdJ("ngModelChange",function(c){return n.filtro=c})("input",function(){return n.filtrarPorCorrelativo()}),t.qZA(),t.qZA(),t.TgZ(14,"div"),t.YNc(15,Lt,1,1,"app-tabla",7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(5,Bt))("ngStyle.sm",t.DdM(6,Ht))("ngStyle.md",t.DdM(7,jt)),t.xp6(12),t.Q6J("ngModel",n.filtro),t.xp6(2),t.Q6J("ngIf",n.hayError))},directives:[u.xw,u.Wh,u.yH,U.Zl,x.Ye,T.lW,C.Hw,i._Y,i.JL,i.F,i.Fj,i.JJ,i.On,f.O5,I],styles:[".ancho[_ngcontent-%COMP%]{width:140%}"]}),e})();function zt(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.idRol),t.xp6(1),t.hij(" ",o.rol," ")}}let Gt=(()=>{class e{constructor(o,n){this.fb=o,this.loginService=n,this.miFormulario=this.fb.group({idUsuario:[0,i.kI.required],idRol:[0,i.kI.required],correoUsuario:["",i.kI.required],password:["",i.kI.required],nombreUsuario:["",i.kI.required],estado:!0}),this.roles=[],this.usuario=[],this.estadoEmail=!1,this.estadoPassword=!1,this.esAdmin=!1}ngOnInit(){this.loginService.traeRoles().subscribe(o=>this.roles=o),this.validaApiKey()}validaApiKey(){let o=localStorage.getItem.arguments;console.log(o)}registrar(){return(0,_.Z)(function*(){})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(q._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-registrar"]],decls:41,vars:19,consts:[[1,"container"],[1,"spacer"],["mat-raised-button","","color","primary","routerLink","/correspondencia/mostrar"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","type","text","autocomplete","off","formControlName","idUsuario","placeholder","ID",1,"input100"],["formControlName","idRol","type","number"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","type","text","formControlName","correoUsuario","placeholder","Email",1,"form-control"],["matInput","","type","password","autocomplete","off","formControlName","password","placeholder","Contrase\xf1a",1,"input100"],["matInput","","type","text","autocomplete","off","formControlName","nombreUsuario","placeholder","Nombre del Usuario",1,"input100"],["formControlName","estado",1,"ancho"],["mat-raised-button","","color","primary","type","submit",1,"ancho",3,"disabled"],["mat-list-icon",""],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span"),t._uU(3,"Registrar Usuario"),t.qZA(),t._UZ(4,"div",1),t.TgZ(5,"button",2),t.TgZ(6,"mat-icon"),t._uU(7,"reply"),t.qZA(),t._uU(8," Ir A Correspondencia"),t.qZA(),t.qZA(),t.TgZ(9,"mat-card",3),t.TgZ(10,"form",4),t.NdJ("ngSubmit",function(){return n.registrar()}),t.TgZ(11,"mat-grid-list",5),t.TgZ(12,"mat-grid-tile",6),t.TgZ(13,"mat-form-field",7),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"mat-grid-tile",6),t.TgZ(16,"mat-form-field",7),t.TgZ(17,"mat-label"),t._uU(18,"Rol del Usuario"),t.qZA(),t.TgZ(19,"mat-select",9),t.YNc(20,zt,2,2,"mat-option",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"mat-grid-tile",6),t.TgZ(22,"mat-form-field",7),t.TgZ(23,"mat-label"),t._uU(24,"Email"),t.qZA(),t._UZ(25,"input",11),t.qZA(),t.qZA(),t.TgZ(26,"mat-grid-tile",6),t.TgZ(27,"mat-form-field",7),t._UZ(28,"input",12),t.qZA(),t.qZA(),t.TgZ(29,"mat-grid-tile",6),t.TgZ(30,"mat-form-field",7),t._UZ(31,"input",13),t.qZA(),t.qZA(),t.TgZ(32,"mat-grid-tile",6),t.TgZ(33,"mat-checkbox",14),t._uU(34,"Activar Usuario"),t.qZA(),t.qZA(),t.TgZ(35,"mat-grid-tile",6),t.TgZ(36,"button",15),t.TgZ(37,"mat-icon",16),t._uU(38,"send"),t.qZA(),t._uU(39," Registrar "),t.qZA(),t.qZA(),t._UZ(40,"mat-grid-tile",6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(10),t.Q6J("formGroup",n.miFormulario),t.xp6(2),t.Q6J("colspan",1)("rowspan",1),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(5),t.Q6J("ngForOf",n.roles),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(5),t.Q6J("colspan",1)("rowspan",1),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(1),t.Q6J("disabled",n.miFormulario.invalid),t.xp6(4),t.Q6J("colspan",1)("rowspan",1))},directives:[x.Ye,T.lW,p.rH,C.Hw,O.a8,i._Y,i.JL,i.sg,M.Il,M.DX,Z.KE,F.Nt,i.Fj,i.JJ,i.u,Z.hX,S.gD,f.sg,J.ey,Q.oG,y.Nh],styles:[".bobi[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;background-color:#f5f5f5}.bobi2[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center}"]}),e})();var h=s(9182),Xt=s(2368);let Wt=(()=>{class e{transform(o){return 1===o?"ACTIVO":"INACTIVO"}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"estado",type:e,pure:!0}),e})();function Vt(e,r){if(1&e&&(t.TgZ(0,"mat-option",53),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.idRol),t.xp6(1),t.hij(" ",o.rol," ")}}function Kt(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," ID "),t.qZA())}function to(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.idUsuario," ")}}function oo(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Nombre "),t.qZA())}function eo(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.nombreUsuario," ")}}function no(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Email "),t.qZA())}function ro(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.correoUsuario," ")}}function io(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Rol"),t.qZA())}function ao(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.rol," ")}}function co(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Estado "),t.qZA())}function so(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"estado"),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,o.estado)," ")}}function lo(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Fecha Activacion "),t.qZA())}function mo(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.activacionUsuario,"dd/MM/yyyy")," ")}}function po(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1," Fecha Desactivacion "),t.qZA())}function uo(e,r){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.desactivacionUsuario,"dd/MM/yyyy")," ")}}function go(e,r){1&e&&t._UZ(0,"th",54)}const fo=function(e){return["/correspondencia/administrador/modificar",e]};function Zo(e,r){if(1&e&&(t.TgZ(0,"td",56),t.TgZ(1,"a",57),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,fo,o.idUsuario))}}function ho(e,r){if(1&e&&t._UZ(0,"td",55),2&e){const o=t.oxw();t.uIk("colspan",o.columnsToDisplay.length)}}function _o(e,r){1&e&&t._UZ(0,"tr",58)}function To(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr",59),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return l.expandedElement=l.expandedElement===c?null:c}),t.qZA()}if(2&e){const o=r.$implicit,n=t.oxw();t.ekj("example-expanded-row",n.expandedElement===o)}}function Co(e,r){1&e&&t._UZ(0,"tr",60)}const Ao=function(){return{"font-size.px":10,color:"blue"}},vo=function(){return{"font-size.px":20,color:"lightblue"}},xo=function(){return{"font-size.px":30,color:"orange"}},yo=function(){return["expandedDetail"]};let bo=(()=>{class e extends h.DO{constructor(){super(...arguments),this.DELIMITER="-"}fromModel(o){if(o){const n=o.split(this.DELIMITER);return{day:parseInt(n[0],10),month:parseInt(n[1],10),year:parseInt(n[2],10)}}return null}toModel(o){return o?o.day+this.DELIMITER+o.month+this.DELIMITER+o.year:null}}return e.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(e)))(n||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),qo=(()=>{class e extends h.NG{constructor(){super(...arguments),this.DELIMITER="/"}parse(o){if(o){const n=o.split(this.DELIMITER);return{day:parseInt(n[0],10),month:parseInt(n[1],10),year:parseInt(n[2],10)}}return null}format(o){return o?o.day+this.DELIMITER+o.month+this.DELIMITER+o.year:""}}return e.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(e)))(n||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),Uo=(()=>{class e{constructor(o,n,a,c){this.fb=o,this.loginService=n,this.ngbCalendar=a,this.dateAdapter=c,this.usuario=[],this.roles=[],this.users=[],this.filtro="",this.registroUsuario=this.fb.group({idRol:[0,[i.kI.required]],email:["",[i.kI.required,i.kI.email,i.kI.minLength(3)]],password:["",[i.kI.required,i.kI.minLength(3)]],password2:["",[i.kI.required,i.kI.minLength(3)]],nombreUsuario:["",[i.kI.required,i.kI.minLength(3)]],estado:[!1],usuarioActivo:[],usuarioNoActivo:[""]}),this.dataSource=this.users,this.columnsToDisplay=["IdUsuario","Rol","NombreUsuario","Email","Estado","FechaActivacion","FechaDesactivacion","acciones"]}ngOnInit(){this.loginService.traeRoles().subscribe(o=>{this.roles=o}),this.loginService.obtenerUsuarios().subscribe(o=>{this.users=o})}filtrarPorCorrelativo(){var o=this;return(0,_.Z)(function*(){yield o.loginService.buscaUsuario(o.filtro).subscribe(n=>{n?o.users=n:g().fire("El nombre de usuario no se encuentra","question")})})()}registrar(){console.log(this.registroUsuario.value)}get today(){return this.dateAdapter.toModel(this.ngbCalendar.getToday())}ingresar(){var o=this;return(0,_.Z)(function*(){const{idRol:n,email:a,password:c,nombreUsuario:l,estado:b,password2:N}=o.registroUsuario.value;try{if(c===N){let v=o.FormatoFecha(o.usuarioActivo),Fo=o.FormatoFecha(o.usuarioNoActivo);o.loginService.registrarUsuario(n,a,c,l,b,v,Fo).subscribe(So=>{So&&g().fire({position:"top-end",icon:"success",title:"Usuario Guardada Con Exito",showConfirmButton:!1,timer:1500})})}else g().fire({icon:"error",title:"Error",text:"Las contrase\xf1as no coinciden"})}catch(v){console.log(v),g().fire({icon:"error",title:"Error",text:"Debe ingresar datos para registrar un usuario"})}})()}FormatoFecha(o){if(o){this.formato="",this.anio="",this.mes="",this.dia="";for(let n=0;n<o.length;n++)n>=4&&n<=9?"-"===o[n]?this.anio="":this.anio+=o[n]:n>=2&&n<=4?"-"!=o[n]?(this.mes+=o[n],n++,"-"!=o[n]?(this.mes+=o[n],n++):"-"===o[n]&&(this.mes="",this.mes+="0"+o[2])):(n++,"-"!=o[n]&&(this.mes+=o[n],n++,"-"!=o[n]?this.mes+=o[n]:(this.mes="",this.mes+="0"+o[3]))):n>=0&&n<=1&&("-"===o[n]?(this.dia="",this.dia+="0"+o[0]):this.dia+=o[n]);return this.formato+=this.anio+"-"+this.mes+"-"+this.dia}return"2023-01-01"}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(q._),t.Y36(h.vL),t.Y36(h.DO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-administracion"]],features:[t._Bn([{provide:h.DO,useClass:bo},{provide:h.NG,useClass:qo}])],decls:115,vars:21,consts:[["fxLayout","columns wrap","fxLayoutAlign","center center"],[2,"font-style","italic",3,"ngStyle.xs","ngStyle.sm","ngStyle.md"],[1,"ancho2"],[1,"spacer"],["mat-raised-button","","color","primary","routerLink","/correspondencia/mostrar","fxFlex","10"],[1,"ancho4"],[1,"d-flex","justify-content-center","align-items-center"],[1,"card","shadow","col-md-4","col-sm-4","col-md-4","col-lg-4","p-4","ancho"],[1,"row"],[1,"bi","bi-chat-left-quote"],[1,"mb-1","col-4"],[3,"formGroup","ngSubmit"],[1,"mb-4","d-flex"],[1,"col-md-10"],["matInput","","type","text","autocomplete","off","formControlName","email","placeholder","Email"],[1,"input"],["matInput","","type","password","autocomplete","off","formControlName","password","placeholder","Contrase\xf1a"],["matInput","","type","password","autocomplete","off","formControlName","password2","placeholder","Confirmar contrase\xf1a"],["matInput","","type","text","autocomplete","off","formControlName","nombreUsuario","placeholder","Nombre de usuario"],["formControlName","idRol","type","number"],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado","fxFlex","15"],[1,"row","row-cols-sm-auto"],[1,"col-12"],[1,"input-group"],["type","text","placeholder","Fecha Activacion","name","usuarioActivo","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["placeholder","Fecha Desactivacion","type","text","name","usuarioNoActivo","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"mb-2"],["mat-raised-button","","color","primary","type","submit",1,"ancho3",3,"disabled"],["mat-list-icon",""],[1,"spacer2"],["autocomplete","off"],["type","text","name","filtro","placeholder","Nombre Usuario",1,"form-control","salto",3,"ngModel","ngModelChange","input"],[1,"example-container","ancho2"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","IdUsuario"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","NombreUsuario"],["matColumnDef","Email"],["matColumnDef","Rol"],["matColumnDef","Estado"],["matColumnDef","FechaActivacion"],["matColumnDef","FechaDesactivacion"],["matColumnDef","acciones"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"text-align","right"],["matTooltip","Editar Usuario","mat-dialog-close","",1,"pointer",2,"color","#e15639",3,"routerLink"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(o,n){if(1&o){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-toolbar"),t.TgZ(4,"span"),t._uU(5,"Ingresar Usuario"),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"button",4),t.TgZ(8,"mat-icon"),t._uU(9,"reply"),t.qZA(),t._uU(10," Volver"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"section",6),t.TgZ(13,"div",7),t.TgZ(14,"div",8),t.TgZ(15,"h2"),t._UZ(16,"i",9),t._uU(17," \xa0 Ingrese Los Siguientes Datos"),t.qZA(),t.qZA(),t.TgZ(18,"div",10),t.TgZ(19,"form",11),t.NdJ("ngSubmit",function(){return n.ingresar()}),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"mat-form-field"),t._UZ(23,"input",14),t.qZA(),t.qZA(),t._UZ(24,"span",15),t.TgZ(25,"div",13),t.TgZ(26,"mat-form-field"),t._UZ(27,"input",16),t.qZA(),t.qZA(),t._UZ(28,"span",15),t.TgZ(29,"div",13),t.TgZ(30,"mat-form-field"),t._UZ(31,"input",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",12),t.TgZ(33,"div",13),t.TgZ(34,"mat-form-field"),t._UZ(35,"input",18),t.qZA(),t.qZA(),t._UZ(36,"span",15),t.TgZ(37,"div",13),t.TgZ(38,"mat-form-field"),t.TgZ(39,"mat-label"),t._uU(40,"Rol del usuario"),t.qZA(),t.TgZ(41,"mat-select",19),t.YNc(42,Vt,2,2,"mat-option",20),t.qZA(),t.qZA(),t.qZA(),t._UZ(43,"span",15),t.TgZ(44,"div",13),t._UZ(45,"mat-slide-toggle",21),t.TgZ(46,"h4"),t._uU(47,"Activo/Inactivo"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",12),t.TgZ(49,"div",13),t.TgZ(50,"form",22),t.TgZ(51,"div",23),t.TgZ(52,"div",24),t.TgZ(53,"input",25,26),t.NdJ("ngModelChange",function(l){return n.usuarioActivo=l}),t.qZA(),t.TgZ(55,"button",27),t.NdJ("click",function(){return t.CHM(a),t.MAs(54).toggle()}),t.TgZ(56,"mat-icon"),t._uU(57,"event"),t.qZA(),t.qZA(),t._uU(58),t.ALo(59,"json"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(60,"span",15),t.TgZ(61,"div",13),t.TgZ(62,"form",22),t.TgZ(63,"div",23),t.TgZ(64,"div",24),t.TgZ(65,"input",28,29),t.NdJ("ngModelChange",function(l){return n.usuarioNoActivo=l}),t.qZA(),t.TgZ(67,"button",27),t.NdJ("click",function(){return t.CHM(a),t.MAs(66).toggle()}),t.TgZ(68,"mat-icon"),t._uU(69,"event"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",30),t.TgZ(71,"button",31),t.TgZ(72,"mat-icon",32),t._uU(73,"send"),t.qZA(),t._uU(74," Ingresar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(75,"br"),t.TgZ(76,"div"),t.TgZ(77,"div",2),t.TgZ(78,"mat-toolbar"),t.TgZ(79,"span"),t._uU(80,"Listado Usuarios"),t.qZA(),t._UZ(81,"div",33),t.TgZ(82,"form",34),t.TgZ(83,"input",35),t.NdJ("ngModelChange",function(l){return n.filtro=l})("input",function(){return n.filtrarPorCorrelativo()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",36),t.TgZ(85,"table",37),t.ynx(86,38),t.YNc(87,Kt,2,0,"th",39),t.YNc(88,to,2,1,"td",40),t.BQk(),t.ynx(89,41),t.YNc(90,oo,2,0,"th",39),t.YNc(91,eo,2,1,"td",40),t.BQk(),t.ynx(92,42),t.YNc(93,no,2,0,"th",39),t.YNc(94,ro,2,1,"td",40),t.BQk(),t.ynx(95,43),t.YNc(96,io,2,0,"th",39),t.YNc(97,ao,2,1,"td",40),t.BQk(),t.ynx(98,44),t.YNc(99,co,2,0,"th",39),t.YNc(100,so,3,3,"td",40),t.BQk(),t.ynx(101,45),t.YNc(102,lo,2,0,"th",39),t.YNc(103,mo,3,4,"td",40),t.BQk(),t.ynx(104,46),t.YNc(105,po,2,0,"th",39),t.YNc(106,uo,3,4,"td",40),t.BQk(),t.ynx(107,47),t.YNc(108,go,1,0,"th",39),t.YNc(109,Zo,4,3,"td",48),t.BQk(),t.ynx(110,49),t.YNc(111,ho,1,1,"td",40),t.BQk(),t.YNc(112,_o,1,0,"tr",50),t.YNc(113,To,1,2,"tr",51),t.YNc(114,Co,1,0,"tr",52),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(17,Ao))("ngStyle.sm",t.DdM(18,vo))("ngStyle.md",t.DdM(19,xo)),t.xp6(18),t.Q6J("formGroup",n.registroUsuario),t.xp6(23),t.Q6J("ngForOf",n.roles),t.xp6(11),t.Q6J("ngModel",n.usuarioActivo),t.xp6(5),t.hij(" ",t.lcZ(59,15,n.usuarioActivo)," "),t.xp6(7),t.Q6J("ngModel",n.usuarioNoActivo),t.xp6(6),t.Q6J("disabled",n.registroUsuario.invalid),t.xp6(12),t.Q6J("ngModel",n.filtro),t.xp6(2),t.Q6J("dataSource",n.users),t.xp6(27),t.Q6J("matHeaderRowDef",n.columnsToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(20,yo)))},directives:[u.xw,u.Wh,U.Zl,x.Ye,T.lW,p.rH,u.yH,C.Hw,i._Y,i.JL,i.sg,Z.KE,F.Nt,i.Fj,i.JJ,i.u,Z.hX,S.gD,f.sg,J.ey,Xt.Rr,i.F,h.J4,i.On,y.Nh,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,p.yS,R.gM,A.ZT,m.as,m.XQ,m.nj,m.Gk],pipes:[f.Ts,Wt,f.uU],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{height:100%;min-height:100%}body[_ngcontent-%COMP%]{background-color:#d3d3d3}.spacer2[_ngcontent-%COMP%]{flex:2 2 auto}.input[_ngcontent-%COMP%]{margin-right:50px}.ancho[_ngcontent-%COMP%]{width:80%}.ancho2[_ngcontent-%COMP%]{width:175%}.ancho3[_ngcontent-%COMP%]{width:150%;margin-left:230px}.ancho4[_ngcontent-%COMP%]{width:175%;background-color:#efefef}.salto[_ngcontent-%COMP%]{margin-top:10px}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,d.X$)("detailExpand",[(0,d.SB)("collapsed",(0,d.oB)({height:"0px",minHeight:"0"})),(0,d.SB)("expanded",(0,d.oB)({height:"*"})),(0,d.eR)("expanded <=> collapsed",(0,d.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})(),P=(()=>{class e{constructor(o,n){this.usuarioService=o,this.router=n}canActivate(){return this.usuarioService.validaAdmin().pipe((0,k.b)(o=>{o||this.router.navigateByUrl("/correspondencia/administrador")}))}canLoad(){return this.usuarioService.validaAdmin().pipe((0,k.b)(o=>{o||this.router.navigateByUrl("/correspondencia/administrador")}))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(q._),t.LFG(p.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Mo=[{path:"",component:et,children:[{path:"mostrar",component:Qt},{path:"agregar",component:tt},{path:"registrar",component:Gt},{path:"modificar/:correlativo",component:lt},{path:"filtrar/:correlativo",component:$t},{path:"administrador",component:Uo,canActivate:[P],canLoad:[P]},{path:"**",redirectTo:"mostrar"}]}];let wo=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Mo)],p.Bz]}),e})();var Do=s(7061);let No=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:A.Bq,useValue:{hasBackdrop:!1}},{provide:h.DO,useClass:h.hV}],imports:[[f.ez,wo,Do.q,i.UX,i.u5,h.IJ]]}),e})()}}]);